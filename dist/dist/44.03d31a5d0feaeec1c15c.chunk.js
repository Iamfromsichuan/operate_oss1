webpackJsonp([44],{295:function(e,t,o){o(938);var r=o(4)(o(939),o(940),null,null);r.options.__file="D:\\项目\\operate_oss\\src\\views\\Orders\\order.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] order.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},938:function(e,t){},939:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(96),n=r(a),i=o(7),l=r(i),s=o(14),c=r(s),d=o(62);t.default={data:function(){var e=this;return{moreSearch:!1,modal1:!1,items:"",CodeAndName:"",initTime:[(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()+" 00:00:00",(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()+" 23:59:59"],filter:{mobileNumber:"",startTime:"",endTime:"",productType:"",provinceName:"",netStop:"",orderStatus:"",provinceCode:"",orderNo:"",pageNo:1,pageSize:d.pageSize},objectList:[],totalRecords:0,dataLoading:!1,columns1:[{title:"字段",key:"title"},{title:"内容",key:"name"}],columns:[{title:"电话号码",key:"mobileNumber"},{title:"产品名称",key:"productName",render:function(e,t){return e("Tooltip",{props:{content:t.row.productName?t.row.productName:"点击添加",placement:"top-start"},style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left",width:"60"}},t.row.productName)}},{title:"订单来源",key:"orderSource"},{title:"网别",key:"netStop"},{title:"渠道类型",key:"channelType"},{title:"订单状态",key:"orderStatus"},{title:"充值说明",key:"orderContent",render:function(e,t){return e("Poptip",{props:{trigger:"hover",width:(0===t.index||1===t.index||2===t.index)&&t.row.orderContent.length>100?1e3:400,content:t.row.orderContent?t.row.orderContent:"点击添加"},style:{whiteSpace:"normal",color:"操作成功"==t.row.orderContent||"订购成功"==t.row.orderContent?"green":"red"}},"操作成功"==t.row.orderContent||"订购成功"==t.row.orderContent?t.row.orderContent:"查看详情")}},{title:"创建时间",key:"createTime"},{title:"省份编码",key:"provinceCode"},{title:"短信内容",key:"smsContent",width:"auto",render:function(e,t){return e("Poptip",{props:{trigger:"hover",width:"400",content:t.row.smsContent?t.row.smsContent:"点击添加"},style:{whiteSpace:"normal"}},[e("Button",{props:{icon:"edit",size:"small",type:"primary"}})])}},{title:"操作",key:"action",width:150,align:"center",render:function(t,o){return t("div",[t("Button",{props:{type:"warning",size:"small"},on:{click:function(){var t=e;t.objectList=[];for(var r in o.row)for(var a=0;a<t.foundColumns.length;a++)if(r===t.foundColumns[a].key){var i={};i.name=o.row[r],t.objectList.push((0,n.default)({},t.foundColumns[a],i))}e.modal1=!0}}},"查看详情")])}}],foundColumns:[{title:"电话号码",key:"mobileNumber"},{title:"网别",key:"netStop"},{title:"订单来源",key:"orderSource"},{title:"产品类型",key:"productType"},{title:"订单状态",key:"orderStatus"},{title:"省份编码",key:"provinceCode"},{title:"短信内容",key:"smsContent"},{title:"返回时间",key:"responseTime",align:"center",width:200},{title:"返回状态",key:"responseData"},{title:"订单号",key:"orderNo"},{title:"开始时间",key:"startTime"},{title:"结束时间",key:"endTime"},{title:"产品编码",key:"productCode"},{title:"流水号",key:"transId"},{title:"产品名称",key:"productName"},{title:"通道编码",key:"passagewayCode"},{title:"渠道类型",key:"channelType"},{title:"附加数据",key:"attachData"},{title:"充值策略",key:"rechargeStrategy"},{title:"充值策略数据",key:"rechargeStrategyData"},{title:"充值路径",key:"rechargeProfile"},{title:"充值索引",key:"rechargeIndex"},{title:"订单内容",key:"orderContent"},{title:"请求数据",key:"requestData"},{title:"响应数据",key:"responseData"},{title:"创建时间",key:"createTime"},{title:"查单请求数据",key:"queryRequestData"},{title:"查单响应数据",key:"queryResponseData"},{title:"备注",key:"remarks"}],datas:[]}},methods:{commoneRender:function(e,t,o){return e("Tooltip",{props:{content:t.row[o]?t.row[o]:"点击添加",placement:"top-start"},style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left",width:"60"}},t.row[o])},ok:function(){},cancel:function(){},changeTime:function(e){e.length?(this.filter.startTime=e[0],this.filter.endTime=e[1]):(this.filter.startTime="",this.filter.endTime="")},search:function(e){var t=this;this.filter.pageNo=e,this.dataLoading=!0,c.default.ajax.get(c.default.baseUrl+"/core/orders/list",{params:this.filter}).then(function(e){e.status==d.ERR_OK?(t.datas=e.data.data.list,t.totalRecords=e.data.data.total,t.dataLoading=!1):(t.$Message.error(e),t.dataLoading=!1)}).catch(function(e){console.log(e)})},changePage:function(e){this.search(e)},download:function(){window.location.href=c.default.baseUrl+"/core/orders/export?token="+l.default.get("token")+c.default.parseParam(this.filter)},getProvinceName:function(e){var t=this;c.default.ajax.get(c.default.baseUrl+"/system/data/dictionary/list",{params:{dictionaryType:e}}).then(function(e){console.log(e),t.items=e.data,t.dataLoading=!1}).catch(function(e){console.log(e)})}},created:function(){this.filter.startTime=this.initTime[0],this.filter.endTime=this.initTime[1],this.getProvinceName("省份")}}},940:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"messageList messageList_m"},[o("Row",{attrs:{gutter:5}},[o("Col",{attrs:{span:"3"}},[o("Select",{attrs:{clearable:"",filterable:"",placeholder:"请选择省份名称"},model:{value:e.filter.provinceCode,callback:function(t){e.$set(e.filter,"provinceCode",t)},expression:"filter.provinceCode"}},e._l(e.items,function(t){return o("Option",{key:t.dictionaryCode,attrs:{value:t.dictionaryCode}},[e._v(e._s(t.dictionaryName))])}))],1),e._v(" "),o("Col",{attrs:{span:"3"}},[o("Select",{attrs:{clearable:"",filterable:"",placeholder:"请选择订单状态"},model:{value:e.filter.orderStatus,callback:function(t){e.$set(e.filter,"orderStatus",t)},expression:"filter.orderStatus"}},[o("Option",{attrs:{value:"0"}},[e._v("充值中")]),e._v(" "),o("Option",{attrs:{value:"1"}},[e._v("成功")]),e._v(" "),o("Option",{attrs:{value:"2"}},[e._v("失败")]),e._v(" "),o("Option",{attrs:{value:"3"}},[e._v("待查单")]),e._v(" "),o("Option",{attrs:{value:"4"}},[e._v("订单异常")])],1)],1),e._v(" "),o("Col",{attrs:{span:"3"}},[o("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"电话号码"},model:{value:e.filter.mobileNumber,callback:function(t){e.$set(e.filter,"mobileNumber",t)},expression:"filter.mobileNumber"}})],1),e._v(" "),o("Col",{attrs:{span:"2"}},[o("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"订单类型"},model:{value:e.filter.productType,callback:function(t){e.$set(e.filter,"productType",t)},expression:"filter.productType"}})],1),e._v(" "),o("Col",{attrs:{span:"2"}},[o("Select",{attrs:{clearable:"",filterable:"",placeholder:"请输入网别"},model:{value:e.filter.netStop,callback:function(t){e.$set(e.filter,"netStop",t)},expression:"filter.netStop"}},[o("Option",{attrs:{value:"23G"}},[e._v("23G")]),e._v(" "),o("Option",{attrs:{value:"4G"}},[e._v("4G")])],1)],1),e._v(" "),o("Col",{attrs:{span:"6"}},[o("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(t){e.search(1)}}},[e._v("查找")]),e._v(" "),o("Button",{attrs:{type:"success",icon:"ios-cloud-download"},on:{click:e.download}},[e._v("导出")]),e._v(" "),o("Button",{attrs:{type:"success",icon:"ios-cloud-download"},on:{click:function(t){e.moreSearch=!e.moreSearch}}},[e._v("更多查找")])],1)],1),e._v(" "),e.moreSearch?o("Row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:5}},[o("Col",{attrs:{span:"5"}},[o("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.initTime,type:"datetimerange",placement:"bottom-start",placeholder:"导入时间"},on:{"on-change":e.changeTime}})],1),e._v(" "),o("Col",{attrs:{span:"4"}},[o("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"订单编号"},model:{value:e.filter.orderNo,callback:function(t){e.$set(e.filter,"orderNo",t)},expression:"filter.orderNo"}})],1)],1):e._e(),e._v(" "),o("br"),e._v(" "),o("Table",{attrs:{columns:e.columns,data:e.datas,loading:e.dataLoading}}),e._v(" "),o("br"),e._v(" "),o("Page",{attrs:{total:e.totalRecords,current:e.filter.pageNo,"page-size":e.filter.pageSize},on:{"on-change":e.changePage}}),e._v(" "),o("br"),e._v(" "),o("Modal",{attrs:{width:"1200"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[o("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[o("Icon",{attrs:{type:"information-circled"}}),e._v(" "),o("span",[e._v("详情展示")])],1),e._v(" "),o("Row",[o("Col",{attrs:{span:"8"}},[o("Table",{attrs:{border:"",columns:e.columns1,data:e.objectList.slice(0,12)}})],1),e._v(" "),o("Col",{attrs:{span:"8"}},[o("Table",{attrs:{border:"",columns:e.columns1,data:e.objectList.slice(12,21).concat(e.objectList.slice(24))}})],1),e._v(" "),o("Col",{attrs:{span:"8"}},[o("Table",{attrs:{border:"",columns:e.columns1,data:e.objectList.slice(21,24)}})],1)],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});