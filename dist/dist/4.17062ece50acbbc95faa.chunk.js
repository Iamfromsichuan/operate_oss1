webpackJsonp([4],{295:function(t,e,a){a(945),a(946);var r=a(4)(a(947),a(948),"data-v-0a834c16",null);r.options.__file="D:\\项目\\operate_oss\\src\\views\\Orders\\turnOver.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] turnOver.vue: functional components are not supported with templates, they should use render functions."),t.exports=r.exports},344:function(t,e,a){a(345);var r=a(4)(a(346),a(347),null,null);r.options.__file="D:\\项目\\operate_oss\\src\\views\\main-components\\quickFilter.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] quickFilter.vue: functional components are not supported with templates, they should use render functions."),t.exports=r.exports},345:function(t,e){},346:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{taglist:{type:Array,default:[]}},data:function(){return{checkedIndex:3}},methods:{checkTag:function(t){this.checkedIndex==t?this.checkedIndex=0:this.checkedIndex=t,this.$emit("gettagIndex",this.checkedIndex)}}}},347:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quickFilter"},[a("ul",{staticClass:"listContent"},t._l(t.taglist,function(e,r){return a("li",{key:r,staticClass:"listItem",class:{active:t.checkedIndex==r},on:{click:function(e){t.checkTag(r)}}},[t._v(t._s(e))])}))])},staticRenderFns:[]},t.exports.render._withStripped=!0},945:function(t,e){},946:function(t,e){},947:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(96),s=r(o),i=a(14),n=r(i),l=a(7),c=r(l),d=a(62),u=a(344),p=r(u);e.default={data:function(){var t=this;return{tagIndex:"",collapseName:"",tagList:["亲情卡","不限量","宽带","回访订单"],modalEditor:!1,byte:"",InputList:[],loading:"",remark:"",initTime:[(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()+" 00:00:00",(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()+" 23:59:59"],modal_loading:!1,dataLoading:!1,filter:{pageNo:1,pageSize:d.pageSize,trackStatus:"",orderStatus:-1,orderSource:"",startTime:"",endTime:"",cityName:"",productName:"",provinceName:"",contactPhone:"",productType:"1"},TotalRecords:0,columns:[{title:"业务",align:"center",key:"productType"},{title:"用户号码",align:"center",key:"contactPhone"},{title:"产品名称",align:"center",key:"productName",render:function(t,e){return t("div",{},[t("Tooltip",{props:{content:e.row.productName,placement:"top-start"},style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",width:"60px"}},e.row.productName)])}},{title:"渠道",align:"center",key:"orderSource"},{title:"省份",align:"center",key:"provinceName"},{title:"地市",align:"center",key:"cityName"},{title:"订单状态",align:"center",key:"orderStatus",render:function(e,a){for(var r=void 0,o=0;o<t.statusList.length;o++)a.row.orderStatus===t.statusList[o].status&&(r=-1===a.row.orderStatus?"待跟进":t.statusList[o].statusDes);return e("span",{},r)}},{title:"创建时间",align:"center",key:"createTime",render:function(t,e){return t("div",{},[t("Tooltip",{props:{content:e.row.createTime,placement:"top-start"},style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left"}},e.row.createTime.split(" ")[0])])}},{title:"跟单状态",align:"center",key:"trackStatus",className:"demo-table-info-column",render:function(e,a){for(var r=void 0,o=0;o<t.statusList.length;o++)a.row.trackStatus===t.statusList[o].status&&(r=t.statusList[o].statusDes);return e("span",{style:{color:"#2d8cf0"},on:{click:function(){console.log(1)}}},r)}},{title:"修改",align:"center",render:function(e,a){return e("Button",{props:{icon:"edit",size:"small",type:"-1"==a.row.orderStatus?"warning":"default"},on:{click:function(){-1===a.row.orderStatus?(t.modalEditor=!0,t.editor.orderNo=a.row.orderNo,t.editor.productCode=a.row.productCode):t.$Message.error("订单已关闭，不可修改")}}})}},{title:"跟单时间",align:"center",key:"updateTime",render:function(t,e){return t("div",{},[t("Tooltip",{props:{content:e.row.updateTime,placement:"top-start"},style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left"}},e.row.updateTime.split(" ")[0])])}},{title:"跟单人",align:"center",key:"receiver"},{title:"地址",align:"center",key:"contactAddress",render:function(t,e){return e.row.contactAddress?t("div",{},[t("Tooltip",{props:{content:e.row.contactAddress,placement:"top-start"},style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",width:"60px"}},e.row.contactAddress)]):""}},{title:"备注",align:"center",key:"remarks",render:function(t,e){return e.row.remarks?t("div",{},[t("Tooltip",{props:{content:e.row.remarks,placement:"top-start"},style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",width:"60px"}},e.row.remarks)]):""}},{title:"锁定",key:"action",align:"center",className:"demo-table-info-column",render:function(e,a){return e("Button",{props:{icon:"locked",size:"small"},on:{click:function(){t.modalRefundMarks=!0,t.editOrderNo=a.row.orderNo,t.refundRmarks=a.row.returnText?a.row.returnText:"【"+a.row.mobileNumber+"】于【"+a.row.orderData+"】订购【"+a.row.orderProduct+"】业务。用户表示非本人订购，要求退费。与用户协商结果如下:\r\rXXXXXXX\r\r,用户表示满意。以下是该用户的所有订购截图，（如没有截图请联系4000126559）"}}})}}],datas:[],pageConfig:[8,10,15,18,20,300],statusList:[{status:-1,statusDes:"订单创建"},{status:0,statusDes:"已预约"},{status:1,statusDes:"成功办理"},{status:2,statusDes:"失败"},{status:6,statusDes:"意向订单"},{status:301,statusDes:"未接"},{status:302,statusDes:"挂断"},{status:303,statusDes:"线路忙"},{status:304,statusDes:"关机"},{status:305,statusDes:"回头联系"},{status:306,statusDes:"次月办理"},{status:307,statusDes:"其他(还能再次回访)"},{status:201,statusDes:"语言不通"},{status:202,statusDes:"点错"},{status:203,statusDes:"无法配送"},{status:204,statusDes:"不办理"},{status:205,statusDes:"非王卡套餐"},{status:206,statusDes:"要换套餐"}],editor:{orderNo:"",orderStatus:"",trackStatus:"",remarks:"",productCode:"",obligate:""}}},methods:{gettagIndex:function(t){this.tagIndex=t,this.filter.productType="亲情卡",-1===t||0===t?this.filter.productType="亲情卡":1===t?this.filter.productType="不限量":2===t?this.filter.productType="宽带":3===t&&(this.filter.productType="回访"),this.search(1)},subOrder:function(){var t=this;if(console.log(this.editor.trackStatus),this.editor.trackStatus){this.dataLoading=!0;for(var e=!1,a=[-1,301,302,303,304,305,306,307],r=0;r<a.length;r++)a[r]==this.editor.trackStatus&&(e=!0);e?this.editor.orderStatus=-1:2==this.editor.trackStatus?this.editor.orderStatus=2:1==this.editor.trackStatus?this.editor.orderStatus=1:this.editor.orderStatus=2,n.default.ajax.get(n.default.baseUrl+"/core/orders/delivery/update",{params:this.editor}).then(function(e){t.dataLoading=!1,e.data.status==d.ERR_OK?(t.modalEditor=!1,t.search(t.filter.pageNo)):t.$Message.error(e.data.msg)}).catch(function(t){console.log(t)})}else this.$Message.error("请选择需要修改的状态")},changeTime:function(t){t.length?(this.filter.startTime=t[0]+" 00:00:00",this.filter.endTime=t[1]+" 23:59:59"):(this.filter.startTime="",this.filter.endTime=""),console.log(this.filter.startTime),console.log(this.filter.endTime)},search:function(t){var e=this;this.filter.pageNo=t,this.dataLoading=!0,this.orderNos="",this.checkedDatas=[],n.default.ajax.get(n.default.baseUrl+"/core/orders/delivery/list",{params:this.filter}).then(function(t){e.wscCode="",e.dataLoading=!1,t.data.status==d.ERR_OK?(e.datas=t.data.data.list,e.TotalRecords=t.data.data.total):e.$Message.error(t.data.msg)}).catch(function(t){console.log(t)})},changePageSize:function(t){this.filter.pageSize=t,this.search(1)},changePage:function(t){this.search(t)},downloadFile:function(){var t=this,e=(0,s.default)({},t.filter);delete e.pageNo,delete e.pageSize,window.location.href=n.default.baseUrl+"/core/orders/delivery/export?token="+c.default.get("token")+n.default.parseParam(e)}},components:{QuickFilter:p.default},created:function(){this.filter.startTime=this.initTime[0],this.filter.endTime=this.initTime[1],this.search(1)}}},948:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"complain_nation2"},[a("QuickFilter",{attrs:{taglist:t.tagList},on:{gettagIndex:t.gettagIndex}}),t._v(" "),a("Collapse",{staticStyle:{margin:"10px 0"},model:{value:t.collapseName,callback:function(e){t.collapseName=e},expression:"collapseName"}},[a("Panel",{attrs:{name:"1"}},[a("div",{staticStyle:{display:"inline-block",float:"left","margin-right":"10px"},on:{click:function(t){t.stopPropagation()}}},[a("Select",{staticStyle:{width:"100px"},attrs:{clearable:!0,placeholder:"地市"},model:{value:t.filter.provinceName,callback:function(e){t.$set(t.filter,"provinceName",e)},expression:"filter.provinceName"}},[a("Option",{attrs:{value:"重庆"}},[t._v("重庆")]),t._v(" "),a("Option",{attrs:{value:"新疆"}},[t._v("新疆")])],1),t._v(" "),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd",placeholder:"Select date and time(Excluding seconds)",value:t.initTime},on:{"on-change":t.changeTime}}),t._v(" "),a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){t.search(1)}}},[t._v("查找")]),t._v(" "),a("Button",{attrs:{type:"primary",icon:"ios-cloud-download"},on:{click:t.downloadFile}},[t._v("导出")])],1),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"业务类型"},model:{value:t.filter.productType,callback:function(e){t.$set(t.filter,"productType",e)},expression:"filter.productType"}},[a("Option",{key:"1",attrs:{value:"低消"}},[t._v("低消")]),t._v(" "),a("Option",{key:"2",attrs:{value:"月包"}},[t._v("月包")]),t._v(" "),a("Option",{key:"3",attrs:{value:"内容包"}},[t._v("内容包")]),t._v(" "),a("Option",{key:"4",attrs:{value:"畅越"}},[t._v("畅越")]),t._v(" "),a("Option",{key:"5",attrs:{value:"其他"}},[t._v("其他")])],1),t._v(" "),a("Select",{staticStyle:{width:"100px"},attrs:{clearable:!0,placeholder:"地市"},model:{value:t.filter.provinceName,callback:function(e){t.$set(t.filter,"provinceName",e)},expression:"filter.provinceName"}},[a("Option",{attrs:{value:"重庆"}},[t._v("重庆")]),t._v(" "),a("Option",{attrs:{value:"新疆"}},[t._v("新疆")])],1),t._v(" "),a("Select",{staticStyle:{width:"100px","margin-right":"10px"},attrs:{clearable:"",filterable:"",placeholder:"请选择订单状态"},model:{value:t.filter.orderStatus,callback:function(e){t.$set(t.filter,"orderStatus",e)},expression:"filter.orderStatus"}},[a("Option",{attrs:{value:"-1"}},[t._v("待处理")]),t._v(" "),a("Option",{attrs:{value:"1"}},[t._v("成功")]),t._v(" "),a("Option",{attrs:{value:"2"}},[t._v("失败")])],1)],1),t._v(" "),a("div",{staticStyle:{display:"inline-block",float:"right","margin-right":"10px",width:"150px"},on:{click:function(t){t.stopPropagation()}}},[a("Input",{staticStyle:{width:"90%"},attrs:{icon:"search",placeholder:"电话号码"},on:{"on-click":function(e){t.search(1)}},model:{value:t.filter.contactPhone,callback:function(e){t.$set(t.filter,"contactPhone",e)},expression:"filter.contactPhone"}})],1)])],1),t._v(" "),a("Table",{attrs:{columns:t.columns,data:t.datas,loading:t.dataLoading,size:"small"}}),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"page"},[a("Page",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{total:t.TotalRecords,current:t.filter.pageNo,"page-size":t.filter.pageSize,"show-elevator":"","show-sizer":"",placement:"top","page-size-opts":t.pageConfig},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}}),t._v(" "),a("div",{staticClass:"records",staticStyle:{display:"inline-block",height:"32px","line-height":"32px","margin-left":"5%"}},[t._v("\n            当前共"),a("span",{staticStyle:{color:"#f00","font-weight":"bold"}},[t._v(" "+t._s(t.TotalRecords)+" ")]),t._v("条记录\n        ")])],1),t._v(" "),a("Modal",{attrs:{width:"320"},model:{value:t.modalEditor,callback:function(e){t.modalEditor=e},expression:"modalEditor"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"information-circled"}}),t._v(" "),a("span",[t._v("订单回访")])],1),t._v(" "),a("RadioGroup",{model:{value:t.editor.trackStatus,callback:function(e){t.$set(t.editor,"trackStatus",e)},expression:"editor.trackStatus"}},[a("p",[t._v("待跟进")]),t._v(" "),a("Radio",{attrs:{label:"301"}},[t._v("未接")]),t._v(" "),a("Radio",{attrs:{label:"302"}},[t._v("挂断")]),t._v(" "),a("Radio",{attrs:{label:"303"}},[t._v("线路忙")]),t._v(" "),a("Radio",{attrs:{label:"304"}},[t._v("关机")]),t._v(" "),a("Radio",{attrs:{label:"305"}},[t._v("回头联系")]),t._v(" "),a("Radio",{attrs:{label:"306"}},[t._v("次月办理")]),t._v(" "),a("Radio",{attrs:{label:"307"}},[t._v("其他")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("关闭")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("成功办理")]),t._v(" "),a("Radio",{attrs:{label:"2"}},[t._v("失败")]),t._v(" "),a("Radio",{attrs:{label:"201"}},[t._v("语言不通")]),t._v(" "),a("Radio",{attrs:{label:"202"}},[t._v("点错")]),t._v(" "),a("Radio",{attrs:{label:"203"}},[t._v("无法配送")]),t._v(" "),a("Radio",{attrs:{label:"204"}},[t._v("不办理")]),t._v(" "),a("Radio",{attrs:{label:"205"}},[t._v("非王卡套餐")]),t._v(" "),a("Radio",{attrs:{label:"206"}},[t._v("要换套餐")])],1),t._v(" "),a("hr"),t._v(" "),a("div",[a("p",[t._v("备注")]),t._v(" "),a("Input",{attrs:{type:"textarea",rows:2,placeholder:"请填写备注"},model:{value:t.editor.remarks,callback:function(e){t.$set(t.editor,"remarks",e)},expression:"editor.remarks"}})],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.subOrder}},[t._v("确认")])],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});