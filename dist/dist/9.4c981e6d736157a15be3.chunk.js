webpackJsonp([9],{286:function(e,t,a){a(895),a(896);var o=a(4)(a(897),a(898),"data-v-176e87bc",null);o.options.__file="D:\\项目\\operate_oss\\src\\views\\phonehall\\phonehall_code.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] phonehall_code.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},895:function(e,t){},896:function(e,t){},897:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(14),l=o(s),i=a(7),r=o(i),n=a(62);t.default={data:function(){var e=this;return{loading:"",value14:"Hello World",if_add:!0,collapseName:"1",initTime:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate(),ruleValidate:{wscCode:[{required:!0,message:" ",trigger:"blur"}],name:[{required:!0,message:" ",trigger:"blur"}],code:[{required:!0,message:" ",trigger:"blur"}],isEnable:[{required:!0,message:" ",trigger:"blur"}],province:[{required:!0,message:" ",trigger:"blur"}],businessType:[{required:!0,message:" ",trigger:"blur"}],refundSource:[{required:!0,message:" ",trigger:"blur"}]},cityList:[],modalDelete:!1,passWord:"",modalAdd:!1,modal_loading:!1,formItem:{},dataLoading:!1,filter:{pageNo:1,pageSize:n.pageSize,email:"",wscCode:"",code:"",refundBusinessStatus:"",internalRefundStatus:"",oneRefundStatus:"",twoRefundStatus:"",complainStartTime:"",complainEndTime:"",orderStartTime:"",orderEndTime:"",endTime:"",mobileNumber:"",name:"",businessType:"",refundSource:"",remarks:""},TotalRecords:0,columns:[{type:"selection",width:60,align:"center"},{title:"沃视窗编码",align:"center",key:"wscCode"},{title:"省份编码主键",align:"center",key:"code"},{title:"省份",align:"center",key:"name"},{title:"编码状态",align:"center",key:"isEnable"},{title:"备注",align:"center",key:"remarks"},{title:"Action",key:"action",width:150,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){l.default.changeState.call(e,"开启",a)}}},"开启"),t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){console.log(1),l.default.changeState.call(e,"关闭",a)}}},"关闭"),t("Button",{props:{type:"warning",size:"small"},on:{click:function(){e.modalAdd=!0,e.if_add=!1,e.formItem={customer:r.default.get("user"),mobileNumber:"",province:a.row.province,businessType:"月包",isEnable:a.row.isEnable,wscCode:a.row.wscCode,name:a.row.name,code:a.row.code,returnText:"用户否认订购行为。",remarks:a.row.remarks},"关闭"==a.row.isEnable?e.formItem.isEnable=0:"开启"==a.row.isEnable&&(e.formItem.isEnable=1)}}},"修改")])}}],datas:[],orderNos:"",checkedDatas:[],pageConfig:[8,10,15,18,20,300]}},methods:{changeComplainTime:function(e){this.filter.complainStartTime=e[0]?e[0]+" 00:00:00":"",this.filter.complainEndTime=e[1]?e[1]+" 23:59:59":""},changeOrderTime:function(e){this.filter.orderStartTime=e[0]?e[0]+" 00:00:00":"",this.filter.orderEndTime=e[1]?e[1]+" 23:59:59":""},search:function(e){var t=this;this.filter.pageNo=e,this.dataLoading=!0,this.orderNos="",this.checkedDatas=[],l.default.ajax.get(l.default.baseUrl+"/kdcu/online/provinceMap/list",{params:this.filter}).then(function(e){if(t.dataLoading=!1,e.data.status==n.ERR_OK){for(var a=0;a<e.data.data.list.length;a++)0==e.data.data.list[a].isEnable?e.data.data.list[a].isEnable="关闭":1==e.data.data.list[a].isEnable&&(e.data.data.list[a].isEnable="开启");t.datas=e.data.data.list,t.TotalRecords=e.data.data.total}else t.$Message.error(e.data.msg)}).catch(function(e){console.log(e)})},selectItem:function(e){this.checkedDatas=e;var t=[];e.length?(e.map(function(e){t.push(e.orderNo)}),this.orderNos=t.join(",")):this.orderNos=""},changePageSize:function(e){this.filter.pageSize=e,this.search(1)},changePage:function(e){this.search(e)},deleteShow:function(){return this.checkedDatas.length?this.checkedDatas.length>1?void this.$Message.warning("一次只能删除一条订单！"):(this.passWord="",void(this.modalDelete=!0)):void this.$Message.warning("请选择需要删除的订单！")},deleteItem:function(){var e=this;if(!this.passWord)return void this.$Message.warning("请验证当前账户密码！");this.modal_loading=!0,l.default.ajax.get(l.default.baseUrl+"/qgcu/refund/delete",{params:{orderNo:e.checkedDatas[0].orderNo,userName:r.default.get("user"),passWord:e.passWord}}).then(function(t){e.modal_loading=!1,t.data.status==n.ERR_OK?(e.$Message.success("删除成功！"),e.modalDelete=!1,e.search(e.filter.pageNo)):e.$Message.error(t.data.msg)}).catch(function(e){console.log(e)})},addShow:function(){this.modalAdd=!0,this.if_add=!0,this.formItem={customer:r.default.get("user"),mobileNumber:"",province:"",businessType:"月包",isEnable:1,wscCode:"",name:"",code:"",returnText:"用户否认订购行为。",remarks:""}},changeShow:function(){this.modalAdd=!0,this.if_add=!1,this.formItem={customer:r.default.get("user"),mobileNumber:"",province:"",businessType:"月包",isEnable:1,wscCode:"",name:"",code:"",returnText:"用户否认订购行为。",remarks:""}},selectComplainTime:function(e){this.formItem.complainTime=e},selectOrderTime:function(e){this.formItem.orderTime=e},handleSubmit:function(e){var t=this,a=this,o=this.if_add?"/kdcu/online/provinceMap/add":"/kdcu/online/provinceMap/edit";this.$refs[e].validate(function(e){e?(t.modal_loading=!0,l.default.ajax.get(l.default.baseUrl+o,{params:a.formItem}).then(function(e){a.modal_loading=!1,e.data.status==n.ERR_OK?(a.$Message.success((a.if_add?"添加":"修改")+"成功!"),a.modalAdd=!1,a.search(1)):a.$Message.error(e.data.msg)}).catch(function(e){console.log(e)})):t.$Message.error("请填写完整退款信息!")})},downloadFile:function(e){window.location.href=l.default.baseUrl+"/xjcu/refund/downFile.do?fileName="+e}},created:function(){this.search(1)}}},898:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"complain_nation"},[a("Collapse",{staticStyle:{margin:"10px 0"},model:{value:e.collapseName,callback:function(t){e.collapseName=t},expression:"collapseName"}},[a("Panel",{attrs:{name:"1"}},[a("div",{staticStyle:{display:"inline-block",float:"left","margin-right":"10px"},on:{click:function(e){e.stopPropagation()}}},[a("Button",{attrs:{type:"success",icon:"plus"},on:{click:e.addShow}},[e._v("新增编码")])],1),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入沃视窗编码",clearable:""},model:{value:e.filter.wscCode,callback:function(t){e.$set(e.filter,"wscCode",t)},expression:"filter.wscCode"}}),e._v(" "),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入省份编码主键",clearable:""},model:{value:e.filter.code,callback:function(t){e.$set(e.filter,"code",t)},expression:"filter.code"}}),e._v(" "),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入省份名称",clearable:""},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}}),e._v(" "),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"备注",clearable:""},model:{value:e.filter.remarks,callback:function(t){e.$set(e.filter,"remarks",t)},expression:"filter.remarks"}}),e._v(" "),a("Button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"ios-search"},on:{click:function(t){e.search(1)}}},[e._v("查找")])],1)])],1),e._v(" "),a("Table",{attrs:{columns:e.columns,data:e.datas,loading:e.dataLoading,size:"small"},on:{"on-selection-change":e.selectItem}}),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"page"},[a("Page",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{total:e.TotalRecords,current:e.filter.pageNo,"page-size":e.filter.pageSize,"show-elevator":"","show-sizer":"",placement:"top","page-size-opts":e.pageConfig},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}}),e._v(" "),a("div",{staticClass:"records",staticStyle:{display:"inline-block",height:"32px","line-height":"32px","margin-left":"5%"}},[e._v("\n            当前共"),a("span",{staticStyle:{color:"#f00","font-weight":"bold"}},[e._v(" "+e._s(e.TotalRecords)+" ")]),e._v("条记录，已选定"),a("span",{staticStyle:{color:"#f00","font-weight":"bold"}},[e._v(" "+e._s(e.checkedDatas.length)+" ")]),e._v("条记录\n        ")])],1),e._v(" "),a("Modal",{attrs:{width:"660","mask-closable":!1,"class-name":"vertical-center-modal modalAdd"},model:{value:e.modalAdd,callback:function(t){e.modalAdd=t},expression:"modalAdd"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"information-circled"}}),e._v(" "),a("span",[e._v(e._s(e.if_add?"新增":"修改")+"编码")]),e._v(" "),a("span",{staticClass:"customer",staticStyle:{position:"absolute",right:"8%",color:"#333"}},[e._v("\n                客服: "+e._s(e.formItem.customer)+"\n            ")])],1),e._v(" "),a("div",[a("Form",{ref:"formValidate",staticStyle:{width:"100%",margin:"0 auto"},attrs:{model:e.formItem,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{staticStyle:{width:"60%"},attrs:{label:"沃视窗编码    ",prop:"wscCode"}},[a("Input",{attrs:{placeholder:"沃视窗编码,如：NM"},model:{value:e.formItem.wscCode,callback:function(t){e.$set(e.formItem,"wscCode",t)},expression:"formItem.wscCode"}})],1),e._v(" "),a("FormItem",{staticStyle:{width:"60%"},attrs:{label:"省份编码主键",prop:"code"}},[a("Input",{attrs:{placeholder:"省份编码,如：101"},model:{value:e.formItem.code,callback:function(t){e.$set(e.formItem,"code",t)},expression:"formItem.code"}})],1),e._v(" "),a("FormItem",{staticStyle:{width:"60%"},attrs:{label:"省 份 名 称",prop:"name"}},[a("Input",{attrs:{placeholder:"省份名称，如：四川"},model:{value:e.formItem.name,callback:function(t){e.$set(e.formItem,"name",t)},expression:"formItem.name"}})],1),e._v(" "),a("FormItem",{staticStyle:{width:"60%"},attrs:{label:"备注"}},[a("Input",{attrs:{placeholder:"请输入备注"},model:{value:e.formItem.remarks,callback:function(t){e.$set(e.formItem,"remarks",t)},expression:"formItem.remarks"}})],1),e._v(" "),a("FormItem",{staticStyle:{width:"60%"},attrs:{label:"是否启用"}},[a("Input",{directives:[{name:"show",rawName:"v-show",value:!e.if_add,expression:"!if_add"}],staticStyle:{width:"100px"},attrs:{disabled:!0,placeholder:"请输入备注"},model:{value:0==e.formItem.isEnable?"关闭":"开启",callback:function(t){e.$set(e.formItem,"isEnable==0?'关闭':'开启'",t)},expression:"formItem.isEnable==0?'关闭':'开启'"}}),e._v(" "),a("Select",{staticStyle:{width:"100px"},model:{value:e.formItem.isEnable,callback:function(t){e.$set(e.formItem,"isEnable",t)},expression:"formItem.isEnable"}},[a("Option",{attrs:{value:"0"}},[e._v("关闭")]),e._v(" "),a("Option",{attrs:{value:"1"}},[e._v("启用")])],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"success",loading:e.modal_loading},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("提交")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(t){e.modalAdd=!1}}},[e._v("取消")])],1)]),e._v(" "),a("Modal",{attrs:{width:"320"},model:{value:e.modalDelete,callback:function(t){e.modalDelete=t},expression:"modalDelete"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"information-circled"}}),e._v(" "),a("span",[e._v("删除订单")])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("Input",{attrs:{type:"password",autosize:!0,placeholder:"请验证当前用户密码"},model:{value:e.passWord,callback:function(t){e.passWord=t},expression:"passWord"}})],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",long:"",loading:e.modal_loading},on:{click:e.deleteItem}},[e._v("确认")])],1)])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});